var $shutterA=$("#shutter");function mobileSafariRequiem(){var e=$(".eyecatch"),t=navigator.userAgent;-1===t.indexOf("iPhone")&&-1===t.indexOf("iPad")||e.addClass("mobile_Safari")}function pageTop(){var e=$(".returnPageTop");$(window).on("scroll",function(){400<$(this).scrollTop()?e.addClass("active"):e.removeClass("active")}),e.on("click",function(){return $("body, html").animate({scrollTop:0},1e3,"easeInOutCirc"),!1})}function pageScroll(){$("#barba-wrapper").on("click","#navbar a",function(){var e=$(this).attr("href");if($("#indexMain").length){var t=parseInt($("#indexPage").attr("data-offset")),a=$("#navbar"),n=$("#"==e||""==e?"html":e).offset().top-t;return $("body, html").animate({scrollTop:n},1e3,"easeInOutCirc"),a.find('.navbar-toggle[data-target="#navbarMenu"]').click(),!1}})}function indexJadge(){var e="";if(!$("#indexMain").length){e="";$("#newsMain").length&&(e="../")}return e}function navPathReplace(){var n=indexJadge();$("#indexMain").length||$("#navbar a").each(function(e,t){var a=$(this).attr("href").slice(1);$(this).attr("href",n+"index.html?anchor="+a)})}function geometryangle(){$(".eyecatch").Geometryangle({mesh:{background:"rgba(30, 187, 238, 1)"},lights:[{ambient:"rgba(24, 184, 230, 1)",diffuse:"rgba(49, 83, 241, 1)",autopilot:!0}],line:{fill:"rgba(30, 187, 238, 1)",draw:!0},vertex:{radius:0,fill:"rgba(30, 187, 238, 1)",draw:!1}})}$(function(){mobileSafariRequiem(),pageTop(),pageScroll(),navPathReplace(),geometryangle(),Barba.Pjax.start(),Barba.Prefetch.init()}),Barba.Dispatcher.on("newPageReady",function(e,t,a,n){if(1!==Barba.HistoryManager.history.length){var r=$("<head />").html($.parseHTML(n.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],document,!0)),i=["meta[name='keywords']","meta[name='description']","meta[property^='og']","meta[name^='twitter']","meta[itemprop]","link[rel^=shortcut]","link[rel^=icon]"].join(",");return $("head").find(i).remove(),r.find(i).appendTo("head"),!1}});var shutterA=document.querySelector("#shutter"),ShutterAnimation=Barba.BaseTransition.extend({start:function(){this.shutter(400).then(this.newContainerLoading).then(this.finish.bind(this))},shutter:function(t){return new Promise(function(e){$shutterA.hasClass("moved"),shutterA.classList.toggle("moved"),setTimeout(function(){e()},t)})},finish:function(){var e=location.search;if(e=getGET(),"scrollingElement"in document?tgt=document.scrollingElement:void 0!==this.browser.isWebKit?tgt=document.body:tgt=document.documentElement,void 0===e.anchor||0===e.anchor.length)tgt.scrollTop=0;else{var t=escapeHtml(e.anchor),a=$("#"+t).offset().top,n=0;$("#indexMain").length&&(n=parseInt($("#indexPage").attr("data-offset"))),tgt.scrollTop=Math.floor(a)-n}this.done(),navPathReplace(),geometryangle()}});function escapeHtml(e){return"string"!=typeof e?e:e.replace(/[&'`"<>]/g,function(e){return{"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]})}function getGET(){for(var e={},t=location.search.substring(1).split("&"),a=0;a<t.length;a++){var n=t[a].search(/=/),r="";-1!=n&&(r=t[a].slice(0,n));var i=t[a].slice(t[a].indexOf("=",0)+1);""!=r&&(e[r]=decodeURI(i))}return e}Barba.Pjax.getTransition=function(){return ShutterAnimation};